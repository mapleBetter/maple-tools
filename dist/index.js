(function(e,t){typeof exports==`object`&&typeof module<`u`?t(exports,require(`echarts`)):typeof define==`function`&&define.amd?define([`exports`,`echarts`],t):(e=typeof globalThis<`u`?globalThis:e||self,t(e.mapleTools={},e.echarts))})(this,function(e,t){var n=Object.create,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,c=(e,t,n,o)=>{if(t&&typeof t==`object`||typeof t==`function`)for(var c=a(t),l=0,u=c.length,d;l<u;l++)d=c[l],!s.call(e,d)&&d!==n&&r(e,d,{get:(e=>t[e]).bind(null,d),enumerable:!(o=i(t,d))||o.enumerable});return e};t=((e,t,i)=>(i=e==null?{}:n(o(e)),c(t||!e||!e.__esModule?r(i,`default`,{value:e,enumerable:!0}):i,e)))(t);var l=e=>{try{let t=new URLSearchParams(e?new URL(e).search:window.location.search),n=new Map;for(let[e,r]of t.entries())n.set(e,r);return Object.fromEntries(n)}catch(e){return console.warn(`Failed to parse URL parameters:`,e),{}}},u=l(),d=e=>e instanceof Date&&!Number.isNaN(e.getTime()),f=e=>typeof e==`number`&&!Number.isNaN(e)&&Number.isFinite(e),p=(e,t=2)=>{let n=Number.parseInt(t.toString(),10)||0;if(n<-20||n>100)throw RangeError(`Precision of ${n} fractional digits is out of range`);let r=Number(e);if(!f(r))return`--`;let i=``;if(r<0&&(i=`-`,r=-r),r>=10**21)return i+r.toString();let a,o=Math.round(r*10**n);if(a=o===0?`0`:o.toString(),n===0)return i+a;let s=a.length;return s<=n&&(a=(10**(n+1-s)).toString().substring(1)+a,s=n+1),n>0&&(a=`${a.substring(0,s-n)}.${a.substring(s-n)}`),i+a},m=(e,t=!0,n=!0,r=2)=>{if(!f(e)||e===-999999)return t?{num:`--`,unit:``,unitN:1,color:`text-grey`}:`--`;let i=Math.abs(e),a=`0`,o=``,s=1;return i>=0xe8d4a51000&&(a=`${n?p(i/0xe8d4a51000,r):Math.floor(i/0xe8d4a51000*10**r)/10**r}`,o=`万亿`,s=0xe8d4a51000),i<0xe8d4a51000&&i>=1e8&&(a=`${n?p(i/1e8,r):Math.floor(i/1e8*10**r)/10**r}`,o=`亿`,s=1e8),i<1e8&&i>=1e4&&(a=`${n?p(i/1e4,r):Math.floor(i/1e4*10**r)/10**r}`,o=`万`,s=1e4),i<1e4&&(a=`${n?p(i,r):Math.floor(i*10**r)/10**r}`),Number.parseFloat(a)===1e4&&o===`亿`&&(a=`1`,o=`万亿`),Number.parseFloat(a)===1e4&&o===`万`&&(a=`1`,o=`亿`),t?{num:p(Number.parseFloat(`${e<0?`-`:``}${a}`),r),unit:o,unitN:s,color:e===0?`text-grey`:e>0?`text-red`:`text-green`}:`${e<0?`-`:``}${a}${o}`},h=e=>{if(!f(e)||e===-999999)return`--`;let t=e.toString().split(`.`);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,`,`),t.join(`.`)},g=(e,n)=>{if(!n?.el)throw Error(`Invalid property: element is required`);if(!t)throw Error(`Echarts is not loaded`);let r={el:n.el,autoUpdate:!0,renderer:`canvas`,...n},i=t.init(r.el,null,{renderer:r.renderer}),a=()=>{if(!i)throw Error(`the chartInstance does not exist`)},o=()=>(a(),i.getOption()),s=(e,t)=>{a(),i.setOption(e,t)};return r.autoUpdate&&s(e),{chartIns:i,getOption:o,setOption:s,dispatch:(e,t)=>{a(),i.dispatchAction({type:e,...t})},getChartInfo:()=>(a(),{option:i.getOption(),width:i.getWidth(),height:i.getHeight(),dom:i.getDom(),imgURL:i.getDataURL()}),zrAction:(e,t)=>{a(),i.getZr().on(e,t)},action:(e,t)=>{a(),i.on(e,t)},cancelAction:e=>{a(),i.off(e)}}};function _(e,t){let n=null;return function(...r){n&&clearTimeout(n),n=setTimeout(()=>{e(...r)},t)}}e.MSCharts=g,e.debounce=_,e.isNum=f,e.isValidDate=d,e.numFixed=p,e.numToChUnit=m,e.numToSeparated=h,e.queryUrlParams=l,e.urlParams=u});